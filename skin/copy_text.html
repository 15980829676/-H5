<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>copy_text</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="jquery-1.8.1.min.js"></script>
<style>
	.container{ 
						width:300px;
						height:110px;
						text-align:center;
						vertical-align:middle;
						margin-top:10px;
					} 
	</style>
</head>
<body>
<div class="container">
  <textarea id="html5pano_text" name="html5pano_text" style="resize:none;width:260px;height:48px; " readonly="1">hello</textarea>
  <button class="btn" data-clipboard-action="copy" data-clipboard-target="#html5pano_text" id="btn_copy_text" style="margin-top:6px;width:266px; line-height:32px; font-size:14px; height:32px;">复制淘口令</button>
</div>
<script src="clipboard.min.js"></script>
<script>
function GetRequest() {
	var url = location.search;
	var str = "";
	if (url.indexOf("?key=") != -1) {
		var str = url.split("?key=")[1]; //获取url中"?"符后的字串
	}
	return str;
}

var this_cs = GetRequest();
if (this_cs!=""){
	document.getElementById("html5pano_text").innerHTML = decodeURI(this_cs);
}else{
	document.getElementById("html5pano_text").innerHTML = "参数获取失败";
}


var clipboard = new Clipboard('.btn');
clipboard.on('success', function (e) {
	//console.log(e);
	document.getElementById("btn_copy_text").innerHTML = "复制成功";
});

clipboard.on('error', function (e) {
	//console.log(e);
	document.getElementById("btn_copy_text").innerHTML = "复制失败";
});
 

$(document).ready(function () {
	$(window).resize(function () {
		$('.container').css({
			position : 'absolute',
			left : ($(window).width() - $('.container').outerWidth()) / 2,
			top : ($(window).height() - $('.container').outerHeight()) / 2
		});
	});
	// 最初运行函数
	$(window).resize();
});
			
</script>
</body>
</html>
